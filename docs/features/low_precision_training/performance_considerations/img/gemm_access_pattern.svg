<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 550 420" width="100%" style="max-width: 550px;">
  <defs>
    <style>
      .title { font: bold 14px sans-serif; fill: #333; text-anchor: middle; }
      .label { font: 12px sans-serif; fill: #333; text-anchor: middle; }
      .small-text { font: 11px sans-serif; fill: #555; }
      .operator { font: bold 16px sans-serif; fill: #333; }
      .equals { font: bold 16px sans-serif; fill: #333; }
      
      /* Matrix colors */
      .matrix-cell { fill: #bbdefb; stroke: #1565c0; stroke-width: 1; }
      .highlight-row { fill: #c8e6c9; stroke: #1565c0; stroke-width: 1; }
      .highlight-col { fill: #fff3e0; stroke: #1565c0; stroke-width: 1; }
      .highlight-result { fill: #ffcc80; stroke: #1565c0; stroke-width: 1; }
    </style>
  </defs>
  
  <!-- FIRST SCENARIO: A × B -->
  
  <!-- Title -->
  <text x="275" y="25" class="title">NN GEMM</text>
  
  <!-- Matrix A (left) -->
  <g id="matrix-a1" transform="translate(30, 45)">
    <text x="40" y="-8" class="label">A</text>
    
    <!-- Row 0 -->
    <rect x="0" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="0" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 1 (highlighted - row i) -->
    <rect x="0" y="20" width="20" height="20" class="highlight-row"/>
    <rect x="20" y="20" width="20" height="20" class="highlight-row"/>
    <rect x="40" y="20" width="20" height="20" class="highlight-row"/>
    <rect x="60" y="20" width="20" height="20" class="highlight-row"/>
    
    <!-- Row 2 -->
    <rect x="0" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="40" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 3 -->
    <rect x="0" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="60" width="20" height="20" class="matrix-cell"/>
    
    <!-- Label -->
    <text x="40" y="95" class="small-text" style="fill: #388e3c; font-weight: bold; text-anchor: middle;">rowwise</text>
  </g>
  
  <!-- Matrix B (middle) -->
  <g id="matrix-b1" transform="translate(160, 45)">
    <text x="50" y="-8" class="label">B</text>
    
    <!-- Row 0 -->
    <rect x="0" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="0" width="20" height="20" class="highlight-col"/>
    <rect x="60" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="0" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 1 -->
    <rect x="0" y="20" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="20" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="20" width="20" height="20" class="highlight-col"/>
    <rect x="60" y="20" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="20" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 2 -->
    <rect x="0" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="40" width="20" height="20" class="highlight-col"/>
    <rect x="60" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="40" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 3 -->
    <rect x="0" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="60" width="20" height="20" class="highlight-col"/>
    <rect x="60" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="60" width="20" height="20" class="matrix-cell"/>
    
    <!-- Label -->
    <text x="50" y="95" class="small-text" style="fill: #f57c00; font-weight: bold; text-anchor: middle;">columnwise</text>
  </g>
  
  <!-- Result matrix (right) -->
  <g id="matrix-c1" transform="translate(310, 45)">
    <text x="50" y="-8" class="label" style="font-weight: bold;">A×B</text>
    <!-- Row 0 -->
    <rect x="0" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="0" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 1 -->
    <rect x="0" y="20" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="20" width="20" height="20" class="matrix-cell"/>
    <!-- Highlighted result cell -->
    <rect x="40" y="20" width="20" height="20" class="highlight-result"/>
    <rect x="60" y="20" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="20" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 2 -->
    <rect x="0" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="40" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 3 -->
    <rect x="0" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="60" width="20" height="20" class="matrix-cell"/>
  </g>
  
  <!-- SECOND SCENARIO: A × B^T -->
  
  <!-- Title -->
  <text x="275" y="215" class="title">TN GEMM</text>
  
  <!-- Matrix A (left) -->
  <g id="matrix-a2" transform="translate(30, 235)">
    <text x="40" y="-8" class="label">A</text>
    
    <!-- Row 0 -->
    <rect x="0" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="0" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 1 (highlighted - row i) -->
    <rect x="0" y="20" width="20" height="20" class="highlight-row"/>
    <rect x="20" y="20" width="20" height="20" class="highlight-row"/>
    <rect x="40" y="20" width="20" height="20" class="highlight-row"/>
    <rect x="60" y="20" width="20" height="20" class="highlight-row"/>
    
    <!-- Row 2 -->
    <rect x="0" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="40" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 3 -->
    <rect x="0" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="60" width="20" height="20" class="matrix-cell"/>
    
    <!-- Label -->
    <text x="40" y="95" class="small-text" style="fill: #388e3c; font-weight: bold; text-anchor: middle;">rowwise</text>
  </g>
  
  <!-- Matrix B (middle, shown with rowwise access for B^T) -->
  <g id="matrix-b2" transform="translate(160, 235)">
    <text x="50" y="-8" class="label">B</text>
    
    <!-- Row 0 -->
    <rect x="0" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="0" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 1 (highlighted - rowwise access for transposed) -->
    <rect x="0" y="20" width="20" height="20" class="highlight-row"/>
    <rect x="20" y="20" width="20" height="20" class="highlight-row"/>
    <rect x="40" y="20" width="20" height="20" class="highlight-row"/>
    <rect x="60" y="20" width="20" height="20" class="highlight-row"/>
    <rect x="80" y="20" width="20" height="20" class="highlight-row"/>
    
    <!-- Row 2 -->
    <rect x="0" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="40" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 3 -->
    <rect x="0" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="80" y="60" width="20" height="20" class="matrix-cell"/>
    
    <!-- Label -->
    <text x="50" y="95" class="small-text" style="fill: #388e3c; font-weight: bold; text-anchor: middle;">rowwise</text>
  </g>
  
  <!-- Result matrix 4x4 (right) -->
  <g id="matrix-c2" transform="translate(310, 235)">
    <text x="40" y="-8" class="label" style="font-weight: bold;">A×B<tspan baseline-shift="super" font-size="9">T</tspan></text>
    <!-- Row 0 -->
    <rect x="0" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="0" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="0" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 1 -->
    <rect x="0" y="20" width="20" height="20" class="matrix-cell"/>
    <!-- Highlighted result cell -->
    <rect x="20" y="20" width="20" height="20" class="highlight-result"/>
    <rect x="40" y="20" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="20" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 2 -->
    <rect x="0" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="40" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="40" width="20" height="20" class="matrix-cell"/>
    
    <!-- Row 3 -->
    <rect x="0" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="20" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="40" y="60" width="20" height="20" class="matrix-cell"/>
    <rect x="60" y="60" width="20" height="20" class="matrix-cell"/>
  </g>
</svg>
