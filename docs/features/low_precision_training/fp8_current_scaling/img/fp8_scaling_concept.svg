<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 360">
  <style>
    @import url("diagram-colors.css");
    
    .axis-line { stroke: #333; stroke-width: 2.5; }
    .range-fp8 { fill: #c8e6c9; opacity: 0.6; }
    .value-dot { fill: #2196f3; stroke: #1976d2; stroke-width: 1; }
    .arrow { fill: #4caf50; }
    .arrow-line { stroke: #4caf50; stroke-width: 3; }
    .range-label { font-size: 14px; fill: #555; font-weight: 500; }
  </style>

  <!-- Top: Original values (before scaling) -->
  <text x="450" y="55" class="section-title" text-anchor="middle">Original Tensor Values</text>
  
  <!-- Top axis -->
  <line x1="80" y1="85" x2="820" y2="85" class="axis-line"/>
  
  <!-- Zero marker (center) -->
  <line x1="450" y1="80" x2="450" y2="90" stroke="#333" stroke-width="2"/>
  <text x="450" y="108" class="text" text-anchor="middle" font-size="12px">0</text>
  
  <!-- FP8 range (same position on both plots) -->
  <rect x="250" y="75" width="400" height="20" class="range-fp8"/>
  <text x="450" y="120" class="range-label" text-anchor="middle">FP8 range</text>
  
  <!-- Value dots (before scaling - irregular, not symmetric around zero) -->
  <circle cx="118" cy="85" r="6" fill="#e53935" stroke="#c62828" stroke-width="2"/>
  <circle cx="159" cy="85" r="5" class="value-dot"/>
  <circle cx="167" cy="85" r="5" class="value-dot"/>
  <circle cx="187" cy="85" r="5" class="value-dot"/>
  <circle cx="199" cy="85" r="5" class="value-dot"/>
  <circle cx="228" cy="85" r="5" class="value-dot"/>
  <circle cx="326" cy="85" r="5" class="value-dot"/>
  <circle cx="368" cy="85" r="5" class="value-dot"/>
  <circle cx="442" cy="85" r="5" class="value-dot"/>
  <circle cx="621" cy="85" r="5" class="value-dot"/>
  <circle cx="649" cy="85" r="5" class="value-dot"/>
  <circle cx="725" cy="85" r="5" class="value-dot"/>
  
  <!-- amax label -->
  <text x="118" y="70" class="text" fill="#e53935" font-weight="700" font-size="14px" text-anchor="middle">amax</text>
  
  <!-- Bottom: After scaling -->
  <text x="450" y="180" class="section-title" text-anchor="middle">Scaled Values (fit FP8 range)</text>
  
  <!-- Bottom axis -->
  <line x1="80" y1="210" x2="820" y2="210" class="axis-line"/>
  
  <!-- Zero marker (center) -->
  <line x1="450" y1="205" x2="450" y2="215" stroke="#333" stroke-width="2"/>
  <text x="450" y="230" class="text" text-anchor="middle" font-size="12px">0</text>
  
  <!-- FP8 range (same position as top) -->
  <rect x="250" y="200" width="400" height="20" class="range-fp8"/>
  
  <!-- Value dots (after scaling - homogeneous scaling from zero, all fit into FP8 range) -->
  <circle cx="250" cy="210" r="6" fill="#e53935" stroke="#c62828" stroke-width="2"/>
  <text x="250" y="240" class="text" fill="#e53935" font-weight="700" font-size="12px" text-anchor="middle">FP8 range min</text>
  <circle cx="275" cy="210" r="5" class="value-dot"/>
  <circle cx="280" cy="210" r="5" class="value-dot"/>
  <circle cx="292" cy="210" r="5" class="value-dot"/>
  <circle cx="299" cy="210" r="5" class="value-dot"/>
  <circle cx="316" cy="210" r="5" class="value-dot"/>
  <circle cx="375" cy="210" r="5" class="value-dot"/>
  <circle cx="401" cy="210" r="5" class="value-dot"/>
  <circle cx="445" cy="210" r="5" class="value-dot"/>
  <circle cx="553" cy="210" r="5" class="value-dot"/>
  <circle cx="569" cy="210" r="5" class="value-dot"/>
  <circle cx="615" cy="210" r="5" class="value-dot"/>
  
  <!-- Arrow from amax to scaled position -->
  <defs>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
      <polygon points="0,0 0,10 10,5" fill="#e53935"/>
    </marker>
  </defs>
  <line x1="118" y1="95" x2="240" y2="198" stroke="#e53935" stroke-width="2.5" marker-end="url(#arrowhead-red)" stroke-dasharray="5,3"/>

  <!-- Third line: After cast to FP8 (quantized values) -->
  <text x="450" y="280" class="section-title" text-anchor="middle">Cast to FP8 (quantized values)</text>
  
  <!-- Third axis -->
  <line x1="80" y1="310" x2="820" y2="310" class="axis-line"/>
  
  <!-- Zero marker (center) -->
  <line x1="450" y1="305" x2="450" y2="315" stroke="#333" stroke-width="2"/>
  <text x="450" y="330" class="text" text-anchor="middle" font-size="12px">0</text>
  
  <!-- FP8 range (same position) -->
  <rect x="250" y="300" width="400" height="20" class="range-fp8"/>
  
  <!-- Quantized dots - merged close values to show FP8 granularity -->
  <circle cx="250" cy="310" r="6" fill="#e53935" stroke="#c62828" stroke-width="2"/>
  <!-- merged: 275+280 -->
  <circle cx="278" cy="307" r="4.5" class="value-dot"/>
  <circle cx="278" cy="313" r="4.5" class="value-dot"/>
  <!-- merged: 292+299 -->
  <circle cx="296" cy="307" r="4.5" class="value-dot"/>
  <circle cx="296" cy="313" r="4.5" class="value-dot"/>
  <circle cx="318" cy="310" r="5" class="value-dot"/>
  <circle cx="378" cy="310" r="5" class="value-dot"/>
  <circle cx="404" cy="310" r="5" class="value-dot"/>
  <circle cx="450" cy="310" r="5" class="value-dot"/>
  <!-- merged: 553+569 -->
  <circle cx="562" cy="307" r="4.5" class="value-dot"/>
  <circle cx="562" cy="313" r="4.5" class="value-dot"/>
  <circle cx="615" cy="310" r="5" class="value-dot"/>

</svg>
